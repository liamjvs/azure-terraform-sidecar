name: Init

on:
  workflow_dispatch:
    inputs:
      skip_checks:
        description: 'Skip ADO Checks?'
        default: false
        required: true
        type: boolean

jobs:
  tf_plan:
    name: Plan
    runs-on: ubuntu-latest
    steps:
      - name: cloud-init
        shell: pwsh
        run: |
          ./${{ github.repository }}/scripts/utils/cloud_init.ps1
        working-directory: ${{ github.repository }}/terraform
      - name: az login
        shell: pwsh
        run: |
          ./${{ github.repository }}/scripts/az/login.ps1
        working-directory: ${{ github.repository }}/terraform
